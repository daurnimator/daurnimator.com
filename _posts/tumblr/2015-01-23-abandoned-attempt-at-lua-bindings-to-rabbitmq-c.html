---
layout: post
title: Abandoned attempt at Lua bindings to rabbitmq-c
date: '2015-01-23T17:00:00+11:00'
tags:
- lua
- rabbitmq
- programming
redirect_from: /post/109077670734/abandoned-attempt-at-lua-bindings-to-rabbitmq-c
---
<a href="https://github.com/daurnimator/lamqp">Abandoned attempt at Lua bindings to rabbitmq-c</a><br/><p>I need a Lua library to communicate with <a href="https://www.rabbitmq.com/">rabbitmq</a>, so after looking around and only finding luajit <a href="https://github.com/cthulhuology/amqp.lua">ffi</a> <a href="https://github.com/tcoram/rabbitmq-lua">based</a> ones, and an <a href="https://github.com/wingify/lua-resty-rabbitmqstomp">nginx specific STOMP driver</a>, I decided to create my own.</p>

<p><a href="https://github.com/alanxz/rabbitmq-c">rabbitmq-c</a> seems to be the most popular C library, so I spent about half the day getting some bindings working.
But as I made <a href="https://github.com/alanxz/rabbitmq-c/issues/237">slow</a> progress, I realised that the most functions (e.g. amqp_login) provided by rabbitmq-c were blocking, with no async variants were available. This was a no-go, as I need to use talk to rabbit from within another server process that cannot be held up.</p>

<p>Instead of letting it go to a complete waste, I figured I might as well open source the attempt. At least it might be a starting point for the next person to come along.</p>
